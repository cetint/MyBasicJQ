<html>
	<head>
			<title>Example jQuery</title>
			
			<script src="jquery-1.7.2.js" type="text/javascript"></script>
			<script src="jquery.tmpl.js" type="text/javascript"></script>
			<link rel="stylesheet" type="text/css" href="main.css" />
			<style type="text/css">
			img.redBorder{border:thick solid red}
			img.blueBorder{border:thick solid blue}
			.bigview{
				border: medium solid black;
				position: relative;
				top: -10px;
				left: -10px;
				background-color:white;
			}
			.bigview > img{
				width: 160px;
				height: 120px;
			}
			
			</style>
			<script type="text/javascript">
			$(document).ready(function(){
			
			
				var data =[{name:"Astor", product:"astor", stocklevel:"10",price:2.99},
						{name:"Daffodil", product:"daffodil", stocklevel:"12",price:1.99},
						{name:"Rose", product:"rose", stocklevel:"2",price:4.99},
						{name:"Peony", product:"peony", stocklevel:"0",price:1.50},
						{name:"Primula", product:"primula", stocklevel:"1",price:3.12},
						{name:"Snowdrop", product:"snowdrop", stocklevel:"15",price:0.99},
						];
			
				var templResult = $('#flowerTmpl').tmpl(data);
				templResult.slice(0,3).appendTo("#row1");
				templResult.slice(3).appendTo("#row2");
				
				$('div.dcell').mouseenter(handleMouse);
				
				function handleMouse(e){
					var tmplItem = $.tmplItem(this);
					var template = e.type == "mouseenter" ? "#flowerTmplSel": "#flowerTmpl";
					tmplItem.tmpl = $(template).template();
					tmplItem.update();
					$('div.dcell').unbind()
					.bind(e.type=="mouseenter" ? "mouseleave": "mouseenter", handleMouse);
				}
			
			});	
			
			
			
			</script>
			
			<script id="flowerTmpl" type="text/x-jquery-tmpl">
				<div class="dcell">
				<img src="${product}.png"/>
				<label for="${product}">${name}:</label>
				<input name="${product}" value="0" required />
				</div>
			</script>
			
			<script id="flowerTmplSel" type="text/x-jquery-tmpl">
				<div class="dcell bigview">
				<img src="${product}.png"/>
				{{if $data.stocklevel > 0}}
						Stock: ${stocklevel} Price:$${price}
				{{else}}
						(Out of stock)
				{{/if}}
				</div>
			</script>
	</head>
<body>
			<h1>Tamer's Flower Shop</h1>
			<form method="post">
				<div id="oblock">
					<div class="dtable">
						<div id="row1" class="drow"></div>
						<div id="row2" class="drow"></div>
					</div>
				</div>
				<div id="buttonDiv"><button type="submit">Place order</button></div>
			</form>	
</body>
</html>